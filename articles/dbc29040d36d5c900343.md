---
title: "docker-composeã§Angularã®é–‹ç™ºç’°å¢ƒæ§‹ç¯‰å‚™å¿˜éŒ²"
emoji: "ğŸ£"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [angular, docker]
published: true
---

## æ¦‚è¦
Angularã®å‹‰å¼·ã‚’ã™ã‚‹æ©Ÿä¼šãŒã‚ã£ãŸã®ã§dockerã‚’ä½¿ã£ãŸç’°å¢ƒæ§‹ç¯‰æ–¹æ³•ã‚’å‚™å¿˜éŒ²ã¨ã—ã¦æ®‹ã—ã¦ãŠãã€‚

## ãƒãƒ¼ã‚¸ãƒ§ãƒ³
- Node.js: 16.x
- Angular: latest

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ
```
.
â”œâ”€â”€ .docker
â”‚Â Â  â””â”€â”€ web
â”‚         â””â”€â”€ Dockerfile
â””â”€â”€ docker-compose.yml
```

## Dockerfile
ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ã¯yarnã‚’åˆ©ç”¨ã™ã‚‹ã€‚
```Dockerfile
FROM node:16-alpine

RUN apk update && \
    apk add git make g++ && \
    apk add --no-cache curl && \
    curl -o- -L https://yarnpkg.com/install.sh | sh && \
    yarn global add @angular-devkit/build-angular @angular/cli

ENV TZ Asia/Tokyo
ENV PATH $HOME/.yarn/bin:$HOME/.config/yarn/global/node_modules/.bin:$PATH

WORKDIR /app

CMD ["/bin/ash"]
```

## docker-compose.yml
```yml
version: '3'
services:
  web:
    container_name: angular-app
    build:
      context: ./.docker/web
      dockerfile: Dockerfile
    ports:
      - 4200:4200
    volumes:
      - .:/app
    stdin_open: true
    tty: true
    restart: always
```

## ã‚³ãƒ³ãƒ†ãƒŠç«‹ã¡ä¸Šã’
ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰å®Ÿè¡ŒãŒå«Œãªå ´åˆã¯-dã‚’é™¤å¤–ã™ã‚‹ã€‚
```
$ docker-compose up -d
```

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ
-g ã¯gitã‚’é™¤å¤–ã€--directoryã¯ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæŒ‡å®šã™ã‚‹ã€‚
```
$ docker-compose exec web ng new -g --directory ./ app-name
```

## ã‚µãƒ¼ãƒãƒ¼ç«‹ã¡ä¸Šã’
```
$ docker-compose exec web ng serve --host 0.0.0.0
```

## ç¢ºèª
http://localhost:4200